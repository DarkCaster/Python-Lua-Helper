diff -uprN lua-5.4.8.old/src/luaconf.h lua-5.4.8/src/luaconf.h
--- lua-5.4.8.old/src/luaconf.h	2025-05-22 00:09:16.000000000 +0300
+++ lua-5.4.8/src/luaconf.h	2025-11-15 14:39:42.772620831 +0300
@@ -53,26 +53,22 @@
 
 
 #if defined(LUA_USE_WINDOWS)
-#define LUA_DL_DLL	/* enable support for DLL */
 #define LUA_USE_C89	/* broadly, Windows is C89 */
 #endif
 
 
 #if defined(LUA_USE_LINUX)
 #define LUA_USE_POSIX
-#define LUA_USE_DLOPEN		/* needs an extra library: -ldl */
 #endif
 
 
 #if defined(LUA_USE_MACOSX)
 #define LUA_USE_POSIX
-#define LUA_USE_DLOPEN		/* MacOS does not need -ldl */
 #endif
 
 
 #if defined(LUA_USE_IOS)
 #define LUA_USE_POSIX
-#define LUA_USE_DLOPEN
 #endif
 
 
diff -uprN lua-5.4.8.old/src/Makefile lua-5.4.8/src/Makefile
--- lua-5.4.8.old/src/Makefile	2023-02-03 13:43:14.000000000 +0300
+++ lua-5.4.8/src/Makefile	2025-11-15 14:36:58.919960777 +0300
@@ -123,10 +123,10 @@ ios:
 Linux linux:	linux-noreadline
 
 linux-noreadline:
-	$(MAKE) $(ALL) SYSCFLAGS="-DLUA_USE_LINUX" SYSLIBS="-Wl,-E -ldl"
+	$(MAKE) $(ALL) SYSCFLAGS="-DLUA_USE_LINUX" SYSLIBS=""
 
 linux-readline:
-	$(MAKE) $(ALL) SYSCFLAGS="-DLUA_USE_LINUX -DLUA_USE_READLINE" SYSLIBS="-Wl,-E -ldl -lreadline"
+	$(MAKE) $(ALL) SYSCFLAGS="-DLUA_USE_LINUX -DLUA_USE_READLINE" SYSLIBS="-Wl,-E -lreadline"
 
 Darwin macos macosx:
 	$(MAKE) $(ALL) SYSCFLAGS="-DLUA_USE_MACOSX -DLUA_USE_READLINE" SYSLIBS="-lreadline"
